<div class="cart-container">
  <h2>ðŸ›’ Shopping Cart</h2>

  <div *ngIf="(cart$ | async)?.length === 0" class="empty-cart">
    <p>Your cart is empty</p>
  </div>

  <div *ngIf="(cart$ | async)?.length! > 0" class="cart-content">
    <div class="cart-items">
      <div *ngFor="let item of cart$ | async" class="cart-item">
        <div class="item-info">
          <span class="item-icon">{{ item.product.imageUrl }}</span>
          <div class="item-details">
            <h4>{{ item.product.name }}</h4>
            <p class="item-unit-price">{{ item.product.price }}â‚¬ each</p>
          </div>
        </div>

        <div class="item-controls">
          <button (click)="removeItem(item.product.id)" class="btn-decrease">-</button>
          <span class="quantity">{{ item.quantity }}</span>
          <button (click)="addItem(item.product.id)" class="btn-increase">+</button>
        </div>

        <div class="item-pricing">
          <div class="item-total">{{ getItemPrice(item.product.id, item.quantity) }}â‚¬</div>
          <div *ngIf="getSavings(item.product.id, item.quantity) > 0" class="savings">
            Saved: {{ getSavings(item.product.id, item.quantity) }}â‚¬
          </div>
        </div>
      </div>
    </div>

    <div class="cart-summary">
      <div class="total-row">
        <span class="total-label">Total:</span>
        <span class="total-amount">{{ total$ | async }}â‚¬</span>
      </div>
      <div class="checkout-btn-container">
        <app-button variant="secondary" [fullWidth]="true" size="lg" (clicked)="clearCart()"
          >Clear Cart</app-button
        >
      </div>
    </div>
  </div>
</div>
